<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงุณุชุจูุงู ุงูููุฆุฉ ุงูุชุฏุฑูุณูุฉ - ูุธุงู LMS ุงููุชูุงูู</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Tahoma', 'Geneva', 'Verdana', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        /* ุดุฑูุท ุงูุชูุฏู */
        .progress-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .progress-bar {
            height: 10px;
            background: #ecf0f1;
            border-radius: 5px;
            overflow: hidden;
            margin: 15px 0;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #e74c3c, #c0392b);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .progress-text {
            display: flex;
            justify-content: space-between;
            font-weight: bold;
            color: #2c3e50;
        }
        
        /* ุฅุดุนุงุฑ ุงูุฎุตูุตูุฉ */
        .privacy-notice {
            background: #e8f4fc;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-right: 5px solid #3498db;
        }
        
        .privacy-notice h3 {
            color: #1a2980;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .privacy-notice p {
            color: #555;
            margin-bottom: 8px;
            padding-right: 10px;
        }
        
        /* ูููุฐุฌ ุงูุงุณุชุจูุงู */
        .survey-form {
            background: rgba(255, 255, 255, 0.98);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
        }
        
        .form-header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 3px solid #e74c3c;
            padding-bottom: 20px;
        }
        
        .form-header h1 {
            font-size: 2.2em;
            color: #1a2980;
            margin-bottom: 10px;
        }
        
        .form-header p {
            color: #666;
            font-size: 1.1em;
        }
        
        .form-section {
            margin-bottom: 40px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 15px;
            border-right: 5px solid #3498db;
        }
        
        .section-title {
            display: flex;
            align-items: center;
            gap: 15px;
            color: #2c3e50;
            margin-bottom: 25px;
            font-size: 1.4em;
        }
        
        .section-title i {
            color: #e74c3c;
            font-size: 1.3em;
        }
        
        .question-group {
            margin-bottom: 25px;
        }
        
        .question {
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #2c3e50;
            font-weight: 600;
        }
        
        .required::after {
            content: " *";
            color: #e74c3c;
        }
        
        /* ุฃููุน ุงููุฏุฎูุงุช */
        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .option-label {
            display: flex;
            align-items: center;
            padding: 15px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .option-label:hover {
            border-color: #3498db;
            background: #f0f7ff;
        }
        
        .option-label input:checked + .option-content {
            color: #e74c3c;
            font-weight: bold;
        }
        
        .option-content {
            margin-right: 10px;
            flex-grow: 1;
        }
        
        input[type="radio"],
        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        .rating-scale {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            margin-top: 10px;
            position: relative;
        }
        
        .rating-scale.small {
            gap: 5px;
        }
        
        .rating-scale.small .rating-item {
            padding: 10px 5px;
            font-size: 1em;
        }
        
        .rating-item {
            flex: 1;
            text-align: center;
            padding: 15px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            z-index: 1;
        }
        
        .rating-item:hover {
            border-color: #3498db;
            transform: translateY(-3px);
        }
        
        .rating-item.active {
            background: #e74c3c !important;
            color: white !important;
            border-color: #c0392b !important;
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
            z-index: 2;
        }
        
        .rating-item.active:hover {
            background: #c0392b !important;
        }
        
        .rating-item:active {
            transform: scale(0.95);
        }
        
        .rating-value {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .rating-label {
            font-size: 0.9em;
        }
        
        textarea, select, input[type="text"] {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1em;
            margin-top: 10px;
            transition: all 0.3s ease;
        }
        
        textarea:focus, select:focus, input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        /* ุชูููุญุงุช ุงูุญููู */
        .field-hint {
            color: #666;
            font-size: 0.9em;
            margin-top: 5px;
            display: block;
        }
        
        /* ุฃุฒุฑุงุฑ ุงูุชููู */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #eee;
        }
        
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-prev {
            background: #95a5a6;
            color: white;
        }
        
        .btn-prev:hover {
            background: #7f8c8d;
        }
        
        .btn-next {
            background: #3498db;
            color: white;
        }
        
        .btn-next:hover {
            background: #2980b9;
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(52, 152, 219, 0.3);
        }
        
        .btn-submit {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }
        
        .btn-submit:hover {
            background: linear-gradient(135deg, #c0392b, #a93226);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(231, 76, 60, 0.3);
        }
        
        /* ุฅุดุนุงุฑุงุช */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            display: none;
            z-index: 1000;
            max-width: 400px;
            border-right: 5px solid #e74c3c;
        }
        
        .notification.success {
            border-color: #2ecc71;
        }
        
        .notification.error {
            border-color: #e74c3c;
        }
        
        /* ูุชุฌุงูุจ */
        @media (max-width: 768px) {
            .survey-form {
                padding: 25px;
            }
            
            .options-grid {
                grid-template-columns: 1fr;
            }
            
            .rating-scale {
                flex-direction: column;
            }
            
            .rating-scale.small {
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .rating-scale.small .rating-item {
                flex: 1 0 18%;
                margin: 1%;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }
        
        /* ุชุญุณููุงุช ููุธุงู ุงูุชูููู */
        .rating-scale:has(.rating-item.active) {
            border: 2px solid rgba(231, 76, 60, 0.2);
            border-radius: 10px;
            padding: 5px;
            transition: all 0.3s ease;
        }
        
        /* ุฃููุงุท ุงูุฎุทุฃ */
        .rating-error {
            border: 2px solid #e74c3c !important;
            border-radius: 10px !important;
            padding: 5px !important;
            background-color: rgba(231, 76, 60, 0.05) !important;
            animation: pulseError 2s infinite;
        }
        
        @keyframes pulseError {
            0% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.2); }
            70% { box-shadow: 0 0 0 10px rgba(231, 76, 60, 0); }
            100% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0); }
        }
        
        .rating-error-msg {
            color: #e74c3c;
            font-size: 0.9em;
            margin-top: 8px;
            padding: 8px 12px;
            background: rgba(231, 76, 60, 0.1);
            border-radius: 6px;
            border-right: 3px solid #e74c3c;
            animation: slideInRight 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ุดุฑูุท ุงูุชูุฏู -->
        <div class="progress-container">
            <div class="progress-text">
                <span>ุงุณุชุจูุงู ุงูููุฆุฉ ุงูุชุฏุฑูุณูุฉ</span>
                <span id="currentStep">1/5</span>
            </div>
            <div class="progress-bar">
                <div class="progress" id="progressBar"></div>
            </div>
        </div>

        <!-- ุฅุดุนุงุฑ ุงูุฎุตูุตูุฉ -->
        <div class="privacy-notice">
            <h3>
                <i class="fas fa-shield-alt"></i>
                ุฎุตูุตูุฉ ุงููุดุงุฑูุฉ
            </h3>
            <p>โ <strong>ุฌููุน ุงููุนูููุงุช ุงูุดุฎุตูุฉ ุงุฎุชูุงุฑูุฉ</strong> - ููููู ุงููุดุงุฑูุฉ ุจุฏูู ุงุณู</p>
            <p>โ ูุง ูุทูุจ ุจุฑูุฏ ุฅููุชุฑููู ุฃู ุฑูู ูุงุชู</p>
            <p>โ ุงูุจูุงูุงุช ุชุฌูุน <strong>ููุบุฑุถ ุงูุจุญุซู ููุท</strong></p>
            <p>โ ุฌููุน ุงูุฅุฌุงุจุงุช ุณุฑูุฉ ููุดูุฑุฉ</p>
        </div>

        <!-- ูุฑูู ุงูุชุทููุฑ -->
        <div class="team-section" style="
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
            text-align: center;
        ">
            <h3 style="margin-bottom: 15px; display: flex; align-items: center; justify-content: center; gap: 10px;">
                <i class="fas fa-users"></i>
                ูุฑูู ุชุทููุฑ ูุธุงู LMS ุงููุชูุงูู
            </h3>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin: 20px 0;">
                <div class="team-member">
                    <div style="font-size: 2em;">๐จโ๐ป</div>
                    <div style="font-weight: bold;">ุณุงูู ุงูุญุงููู</div>
                    <div style="font-size: 0.9em; opacity: 0.9;"> ูุทูุฑ ุฎูุงุฏู ูุดุฑู ุนุงู</div>
                </div>
                
                <div class="team-member">
                    <div style="font-size: 2em;">๐จโ๐</div>
                    <div style="font-weight: bold;">ุฃุญูุฏ ุฒูุฏุงู</div>
                    <div style="font-size: 0.9em; opacity: 0.9;">ูุทูุฑ ูุงุฌูุงุช</div>
                </div>
                
                <div class="team-member">
                    <div style="font-size: 2em;">๐ง</div>
                    <div style="font-weight: bold;">ุนูุฑุงู ุนุงุฒุจ</div>
                    <div style="font-size: 0.9em; opacity: 0.9;">ูุทูุฑ ุฃูุธูุฉ</div>
                </div>
                
                <div class="team-member">
                    <div style="font-size: 2em;">๐จ</div>
                    <div style="font-weight: bold;">ูุญูุฏ ุงููุฑูุณู</div>
                    <div style="font-size: 0.9em; opacity: 0.9;"> ูุตูู ูุงุฌูุงุช  </div>
                </div>
                
                <div class="team-member">
                    <div style="font-size: 2em;">๐ฑ</div>
                    <div style="font-weight: bold;">ุจุฏุฑ ุงูุฏูู ุนูุจู</div>
                    <div style="font-size: 0.9em; opacity: 0.9;">ูุทูุฑ ุชุทุจููุงุช</div>
                </div>
                
                <div class="team-member">
                    <div style="font-size: 2em;">โก</div>
                    <div style="font-weight: bold;"> ุทุงุฑู ุงูุดุงูู </div>
                    <div style="font-size: 0.9em; opacity: 0.9;">ูุทูุฑ </div>
                </div>
            </div>
            
            <p style="margin-top: 15px; font-size: 0.95em; opacity: 0.9;">
                <i class="fas fa-university"></i>
                ูููุฉ ุงูุนููู ุงูุชุทุจูููู ุงููุงุฏุฑุฉ  - ุงูุนููุฏู ุฏ.\ุฅูุทุงู ุงููุนูุฑู 
            </p>
        </div>

        <!-- ูููุฐุฌ ุงูุงุณุชุจูุงู -->
        <form id="surveyForm" class="survey-form">
            <!-- ุงููุณู 1: ุงููุนูููุงุช ุงูุดุฎุตูุฉ (ูุนุฏู) -->
            <div class="form-section" id="section1">
                <div class="section-title">
                    <i class="fas fa-chalkboard-teacher"></i>
                    <h2>ุงููุนูููุงุช ุงูุดุฎุตูุฉ (ุงุฎุชูุงุฑู)</h2>
                </div>
                
                <div class="question-group">
                    <label class="question">ุงูุงุณู ุงููุงูู (ุงุฎุชูุงุฑู)</label>
                    <input type="text" id="fullName" name="fullName" placeholder="ููููู ุชุฑู ูุฐุง ุงูุญูู ูุงุฑุบุงู">
                    <span class="field-hint">ูุญูุงูุฉ ุฎุตูุตูุชูุ ููููู ุงููุดุงุฑูุฉ ุจุฏูู ุงุณู</span>
                </div>
                
                <div class="question-group">
                    <label class="question required">ุงููุณู/ุงููููุฉ</label>
                    <input type="text" id="department" name="department" required placeholder="ุฃุฏุฎู ุงุณู ุงููุณู ุฃู ุงููููุฉ">
                </div>
                
                <div class="question-group">
                    <label class="question required">ุงูุฑุชุจุฉ ุงูุฃูุงุฏูููุฉ</label>
                    <div class="options-grid">
                        <label class="option-label">
                            <input type="radio" name="academicRank" value="ุฃุณุชุงุฐ" required>
                            <span class="option-content">ุฃุณุชุงุฐ</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="academicRank" value="ุฃุณุชุงุฐ ูุดุงุฑู">
                            <span class="option-content">ุฃุณุชุงุฐ ูุดุงุฑู</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="academicRank" value="ุฃุณุชุงุฐ ูุณุงุนุฏ">
                            <span class="option-content">ุฃุณุชุงุฐ ูุณุงุนุฏ</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="academicRank" value="ุฏูุชูุฑ">
                            <span class="option-content">ุฏูุชูุฑ</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="academicRank" value="ูุนูุฏ">
                            <span class="option-content">ูุนูุฏ</span>
                        </label>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question required">ุณููุงุช ุงูุฎุจุฑุฉ ูู ุงูุชุฏุฑูุณ</label>
                    <div class="options-grid">
                        <label class="option-label">
                            <input type="radio" name="teachingExperience" value="ุฃูู ูู 5 ุณููุงุช" required>
                            <span class="option-content">ุฃูู ูู 5 ุณููุงุช</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="teachingExperience" value="5-10 ุณููุงุช">
                            <span class="option-content">5-10 ุณููุงุช</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="teachingExperience" value="10-15 ุณูุฉ">
                            <span class="option-content">10-15 ุณูุฉ</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="teachingExperience" value="ุฃูุซุฑ ูู 15 ุณูุฉ">
                            <span class="option-content">ุฃูุซุฑ ูู 15 ุณูุฉ</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- ุงููุณู 2: ุชุฌุฑุจุฉ ุงูุชุนููู ุงูุฅููุชุฑููู -->
            <div class="form-section" id="section2" style="display: none;">
                <div class="section-title">
                    <i class="fas fa-laptop-house"></i>
                    <h2>ุชุฌุฑุจุฉ ุงูุชุนููู ุงูุฅููุชุฑููู</h2>
                </div>
                
                <div class="question-group">
                    <label class="question required">ูู ุนุฏุฏ ุงูููุฑุฑุงุช ุงูุชู ุชุฏุฑุณูุง ุฅููุชุฑูููุงูุ</label>
                    <div class="options-grid">
                        <label class="option-label">
                            <input type="radio" name="onlineCourses" value="ุฌููุน ุงูููุฑุฑุงุช" required>
                            <span class="option-content">ุฌููุน ุงูููุฑุฑุงุช</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="onlineCourses" value="ุฃูุซุฑ ูู 50%">
                            <span class="option-content">ุฃูุซุฑ ูู 50%</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="onlineCourses" value="ุฃูู ูู 50%">
                            <span class="option-content">ุฃูู ูู 50%</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="onlineCourses" value="ูุง ุดูุก">
                            <span class="option-content">ูุง ุดูุก</span>
                        </label>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question required">ูุง ูู ุฃูุจุฑ ุชุญุฏูุงุช ุงูุชุนููู ุงูุฅููุชุฑููู ูู ุฑุงููุ (ุงุฎุชุฑ 3 ูุญุฏ ุฃูุตู)</label>
                    <div class="options-grid">
                        <label class="option-label">
                            <input type="checkbox" name="teachingChallenges" value="ุถุนู ุงูุงูู ">
                            <span class="option-content">ุถุนู ุงูุงูู  </span>
                        </label>
                        <label class="option-label">
                            <input type="checkbox" name="teachingChallenges" value="ุงูุชุดููุด ูุงูุบุงุบู">
                            <span class="option-content">ุงูุชุดููุด ูุงูุบุงุบู </span>
                        </label>
                        <label class="option-label">
                            <input type="checkbox" name="teachingChallenges" value="ุถูุงุน ุงูููุช ">
                            <span class="option-content">ุถูุงุน ุงูููุช </span>
                        </label>
                        <label class="option-label">
                            <input type="checkbox" name="teachingChallenges" value="ุตุนูุจู ุชูููู ุงูุฃุฏุงุก  ">
                            <span class="option-content">ุตุนูุจู ุชูููู ุงูุฃุฏุงุก </span>
                        </label>
                        <label class="option-label">
                            <input type="checkbox" name="teachingChallenges" value="ุงูุชูููุฉ">
                            <span class="option-content">ูุดุงูู ุชูููุฉ</span>
                        </label>
                        <label class="option-label">
                            <input type="checkbox" name="teachingChallenges" value="ุงูููุช">
                            <span class="option-content">ุงูููุช ูุงูุฌูุฏ</span>
                        </label>
                        <label class="option-label">
                            <input type="checkbox" name="teachingChallenges" value="ุงูุบุด">
                            <span class="option-content">ูุดููุฉ ุงูุบุด</span>
                        </label>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question required">ูุง ูุณุชูุฆ ุงุชูุชุฉ ุงูุชุนููู ูู ุงูููุงุณุณู ุงูุชู ุชูุชูู ุงูููุง ุ</label>
                    <div class="rating-scale" data-question="currentSystemEffectiveness">
                        <div class="rating-item" data-value="5">
                            <div class="rating-value">5</div>
                            <div class="rating-label">ููุชุงุฒุฉ</div>
                        </div>
                        <div class="rating-item" data-value="4">
                            <div class="rating-value">4</div>
                            <div class="rating-label">ุฌูุฏุฉ ุฌุฏุงู</div>
                        </div>
                        <div class="rating-item" data-value="3">
                            <div class="rating-value">3</div>
                            <div class="rating-label">ุฌูุฏุฉ</div>
                        </div>
                        <div class="rating-item" data-value="2">
                            <div class="rating-value">2</div>
                            <div class="rating-label">ููุจููุฉ</div>
                        </div>
                        <div class="rating-item" data-value="1">
                            <div class="rating-value">1</div>
                            <div class="rating-label">ุถุนููุฉ</div>
                        </div>
                    </div>
                    <input type="hidden" name="currentSystemEffectiveness" id="input-currentSystemEffectiveness" required>
                </div>
            </div>

            <!-- ุงููุณู 3: ูุชุทูุจุงุช ุงููุธุงู ุงูุฌุฏูุฏ -->
            <div class="form-section" id="section3" style="display: none;">
                <div class="section-title">
                    <i class="fas fa-tools"></i>
                    <h2>ูุชุทูุจุงุช ุงููุธุงู ุงูุฌุฏูุฏ</h2>
                </div>
                
                <div class="question-group">
                    <label class="question required">ูุง ูุฏู ุฃูููุฉ ุงูููุฒุงุช ุงูุชุงููุฉุ (1 = ุบูุฑ ูููุ 5 = ููู ุฌุฏุงู)</label>
                    
                    <div class="feature-rating">
                        <div style="margin-bottom: 20px;">
                            <label style="font-weight: 600; color: #2c3e50; font-size: 1.05em;">
                                1. ูุธุงู ุฅุฏุงุฑุฉ ุงููุญุงุถุฑุงุช ุงููุชูุงูู ุญูุซ ูุณูุญ ูู ุจุจุซ ุงููุญุงุถุฑู ูุงูุชูุงุนู ูุน ุงูุทูุงุจ
                            </label>
                            <div class="rating-scale small" data-question="reqLectures">
                                <div class="rating-item" data-value="1">1</div>
                                <div class="rating-item" data-value="2">2</div>
                                <div class="rating-item" data-value="3">3</div>
                                <div class="rating-item" data-value="4">4</div>
                                <div class="rating-item" data-value="5">5</div>
                            </div>
                            <input type="hidden" name="reqLectures" id="input-reqLectures" required>
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <label style="font-weight: 600; color: #2c3e50; font-size: 1.05em;">
                                2. ูุธุงู ุงูุชุญุถูุฑ ุงูุขูู ุงููุชูุฏู ูุงูุฐู ูุณูุญ ูู ุจุชุญุถูุฑ ุงูุทูุงุจ ุนู ุทุฑูู ุจุฏุง ุฌูุณู ุชุญุถูุฑ ูููู ููุทูุงุจ ุงูุงูุถูุงู ุงูููุง ููุชุญุถูุฑ ูุจุงุดุฑู
                            </label>
                            <div class="rating-scale small" data-question="reqAttendance">
                                <div class="rating-item" data-value="1">1</div>
                                <div class="rating-item" data-value="2">2</div>
                                <div class="rating-item" data-value="3">3</div>
                                <div class="rating-item" data-value="4">4</div>
                                <div class="rating-item" data-value="5">5</div>
                            </div>
                            <input type="hidden" name="reqAttendance" id="input-reqAttendance" required>
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <label style="font-weight: 600; color: #2c3e50; font-size: 1.05em;">
                                3. ูุธุงู ูุฑุงูุจุฉ ุงูุงุฎุชุจุงุฑุงุช ุงูุนูููุฉ ููุณูุญ ุจูุดุงูุฏู ุดุงุดุงุช ุงูุทูุงุจ ุงุซูุง ุงูุงุฎุชุจุงุฑ ููุญุฏ ูู ุงูุบุด
                            </label>
                            <div class="rating-scale small" data-question="reqMonitoring">
                                <div class="rating-item" data-value="1">1</div>
                                <div class="rating-item" data-value="2">2</div>
                                <div class="rating-item" data-value="3">3</div>
                                <div class="rating-item" data-value="4">4</div>
                                <div class="rating-item" data-value="5">5</div>
                            </div>
                            <input type="hidden" name="reqMonitoring" id="input-reqMonitoring" required>
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <label style="font-weight: 600; color: #2c3e50; font-size: 1.05em;">
                                4. ูุธุงู ุฅุฏุงุฑุฉ ุงูุงุฎุชุจุงุฑุงุช ุงูุฅููุชุฑูููุฉ ุนู ุทุฑูู ุงูุดุงุก ููุดุฑ ูุชุตุญูุญ ุงูุงุฎุชุจุงุฑุงุช ุงููุชุฑูููุง
                            </label>
                            <div class="rating-scale small" data-question="reqExams">
                                <div class="rating-item" data-value="1">1</div>
                                <div class="rating-item" data-value="2">2</div>
                                <div class="rating-item" data-value="3">3</div>
                                <div class="rating-item" data-value="4">4</div>
                                <div class="rating-item" data-value="5">5</div>
                            </div>
                            <input type="hidden" name="reqExams" id="input-reqExams" required>
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <label style="font-weight: 600; color: #2c3e50; font-size: 1.05em;">
                                5. ูุธุงู ุฅุฏุงุฑุฉ ุงูุฃูุดุทุฉ ูุงููุดุงุฑูุน
                            </label>
                            <div class="rating-scale small" data-question="reqActivities">
                                <div class="rating-item" data-value="1">1</div>
                                <div class="rating-item" data-value="2">2</div>
                                <div class="rating-item" data-value="3">3</div>
                                <div class="rating-item" data-value="4">4</div>
                                <div class="rating-item" data-value="5">5</div>
                            </div>
                            <input type="hidden" name="reqActivities" id="input-reqActivities" required>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question">ูุง ูู ูุธุงู ุงูุชุญุถูุฑ ุงูุงูุถู ูู ูุฌูุฉ ูุถุฑูุ</label>
                    <div class="options-grid">
                        <label class="option-label">
                            <input type="radio" name="preferredAttendanceMethod" value="QR Code">
                            <span class="option-content">QR Code</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="preferredAttendanceMethod" value="ุงูุชุญุถูุฑ ุจุงููุฌู ">
                            <span class="option-content">ุงูุชุญุถูุฑ ุจุงููุฌู</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="preferredAttendanceMethod" value="ุชุญุฏูุฏ ุงููููุน">
                            <span class="option-content">ุชุญุฏูุฏ ุงููููุน</span>
                        </label>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question required">ูุง ูุฏู ูุนุงููุฉ ูุธุงู ูุฑุงูุจุฉ ุงูุงุฎุชุจุงุฑุงุช ุงูุนูููุฉ ุนู ุทุฑูู ูุดุงุฑูู ุดุงุดุงุช ุงูุทูุงุจ  ูู ููุน ุงูุบุดุ</label>
                    <div class="rating-scale" data-question="cheatingPreventionEffectiveness">
                        <div class="rating-item" data-value="5">
                            <div class="rating-value">5</div>
                            <div class="rating-label">ูุนุงู ุฌุฏุงู</div>
                        </div>
                        <div class="rating-item" data-value="4">
                            <div class="rating-value">4</div>
                            <div class="rating-label">ูุนุงู</div>
                        </div>
                        <div class="rating-item" data-value="3">
                            <div class="rating-value">3</div>
                            <div class="rating-label">ูุชูุณุท</div>
                        </div>
                        <div class="rating-item" data-value="2">
                            <div class="rating-value">2</div>
                            <div class="rating-label">ุถุนูู</div>
                        </div>
                        <div class="rating-item" data-value="1">
                            <div class="rating-value">1</div>
                            <div class="rating-label">ุบูุฑ ูุนุงู</div>
                        </div>
                    </div>
                    <input type="hidden" name="cheatingPreventionEffectiveness" id="input-cheatingPreventionEffectiveness" required>
                </div>
            </div>

            <!-- ุงููุณู 4: ุงูุชุญุฏูุงุช ุงูุชูููุฉ ูุงูุฅุฏุงุฑูุฉ -->
            <div class="form-section" id="section4" style="display: none;">
                <div class="section-title">
                    <i class="fas fa-exclamation-circle"></i>
                    <h2>ุงูุชุญุฏูุงุช ุงูุชูููุฉ ูุงูุฅุฏุงุฑูุฉ</h2>
                </div>
                
                <div class="question-group">
                    <label class="question required">ูุง ูู ุฃูุจุฑ ุนูุจุฉ ุชูุงุฌููุง ูู ุงุณุชุฎุฏุงู ุงูุฃูุธูู ุงูุงููุชุฑูููู ูู ุงูุชุนููู ุ</label>
                    <textarea id="biggestObstacle" name="biggestObstacle" required placeholder="ุตู ุฃูุจุฑ ุนูุจุฉ ุชูุงุฌููุง..."></textarea>
                </div>
                
                <div class="question-group">
                    <label class="question">ูู ูุงุฌูุช ูุดุงูู ูู ูุชุงุจุนุฉ ุญุถูุฑ ุงูุทูุงุจุ</label>
                    <div class="options-grid">
                        <label class="option-label">
                            <input type="radio" name="attendanceProblems" value="ุฏุงุฆูุงู">
                            <span class="option-content">ุฏุงุฆูุงู</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="attendanceProblems" value="ุฃุญูุงูุงู">
                            <span class="option-content">ุฃุญูุงูุงู</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="attendanceProblems" value="ูุงุฏุฑุงู">
                            <span class="option-content">ูุงุฏุฑุงู</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="attendanceProblems" value="ูุง">
                            <span class="option-content">ูุง</span>
                        </label>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question">ูุง ูู ุนููุจ ูุธู ุงูุชุนููู ุงูุฅููุชุฑูููุฉ ุงูุชู ุชุฑุงูุง ุ</label>
                    <div class="options-grid">
                        <label class="option-label">
                            <input type="checkbox" name="examProblems" value="ุงูุบุด">
                            <span class="option-content">ุงูุบุด ูุงููุฎุงููุงุช</span>
                        </label>
                        <label class="option-label">
                            <input type="checkbox" name="examProblems" value="ุชูููุฉ">
                            <span class="option-content">ูุดุงูู ุชูููุฉ</span>
                        </label>
                        <label class="option-label">
                            <input type="checkbox" name="examProblems" value="ุชูููู">
                            <span class="option-content">ุตุนูุจุฉ ุงูุชูููู</span>
                        </label>
                        <label class="option-label">
                            <input type="checkbox" name="examProblems" value="ุชุตููู">
                            <span class="option-content">ุชุตููู ุงูุฃุณุฆูุฉ</span>
                        </label>
                        <label class="option-label">
                            <input type="checkbox" name="examProblems" value="ูุฑุงูุจุฉ">
                            <span class="option-content">ุตุนูุจุฉ ุงููุฑุงูุจุฉ</span>
                        </label>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question">ูุง ูุฏู ุชููุฑ ุงูุฏุนู ุงูููู ูู ูุคุณุณุชูุ</label>
                    <div class="options-grid">
                        <label class="option-label">
                            <input type="radio" name="techSupport" value="ููุชุงุฒ">
                            <span class="option-content">ููุชุงุฒ ูุฏุงุฆู</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="techSupport" value="ุฌูุฏ">
                            <span class="option-content">ุฌูุฏ ุนูุฏ ุงูุญุงุฌุฉ</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="techSupport" value="ูุญุฏูุฏ">
                            <span class="option-content">ูุญุฏูุฏ</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="techSupport" value="ุบูุฑ ูุชููุฑ">
                            <span class="option-content">ุบูุฑ ูุชููุฑ</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- ุงููุณู 5: ุงูุงูุชุฑุงุญุงุช ูุงูุชูุตูุงุช -->
            <div class="form-section" id="section5" style="display: none;">
                <div class="section-title">
                    <i class="fas fa-lightbulb"></i>
                    <h2>ุงูุงูุชุฑุงุญุงุช ูุงูุชูุตูุงุช</h2>
                </div>
                
                <div class="question-group">
                    <label class="question">ูุง ูู ุงูููุฒุฉ ุงูุฃูุซุฑ ุฃูููุฉ ูู ูุธุงู ุงูุชุญุถูุฑ ุงูุขููุ</label>
                    <textarea id="mostImportantFeature" name="mostImportantFeature" placeholder="ุงูุชุจ ุงูููุฒุฉ ุงูุฃูุซุฑ ุฃูููุฉ..."></textarea>
                </div>
                
                <div class="question-group">
                    <label class="question">ูู ุชุฑู ุฃู ูุธุงู ุงูุนูู ุจุฏูู ุฅูุชุฑูุช ูููุ</label>
                    <div class="options-grid">
                        <label class="option-label">
                            <input type="radio" name="offlineImportance" value="ููู ุฌุฏุงู">
                            <span class="option-content">ููู ุฌุฏุงู</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="offlineImportance" value="ููู">
                            <span class="option-content">ููู</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="offlineImportance" value="ุนุงุฏู">
                            <span class="option-content">ุนุงุฏู</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="offlineImportance" value="ุบูุฑ ููู">
                            <span class="option-content">ุบูุฑ ููู</span>
                        </label>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question">ูุง ูู ุงูุชุญุฏูุงุช ุงููุชููุนุฉ ูู ุชุทุจูู ุงููุธุงู ุงูุฌุฏูุฏุ</label>
                    <textarea id="expectedChallenges" name="expectedChallenges" placeholder="ุงูุชุจ ุงูุชุญุฏูุงุช ุงููุชููุนุฉ..."></textarea>
                </div>
                
                <div class="question-group">
                    <label class="question">ูู ูุฏูู ุฃู ุชูุตูุงุช ูุฅุฏุงุฑุฉ ุงููุดุฑูุนุ</label>
                    <textarea id="managementRecommendations" name="managementRecommendations" placeholder="ุงูุชุจ ุชูุตูุงุชู ูุฅุฏุงุฑุฉ ุงููุดุฑูุน..."></textarea>
                </div>
                
                <div class="question-group">
                    <label class="question required">ูุง ูุฏู ูุงุฆุฏุฉ ุงููุธุงู ุงูููุชุฑุญ ููุนูููุฉ ุงูุชุนููููุฉุ</label>
                    <div class="rating-scale" data-question="systemUsefulness">
                        <div class="rating-item" data-value="5">
                            <div class="rating-value">5</div>
                            <div class="rating-label">ูููุฏ ุฌุฏุงู</div>
                        </div>
                        <div class="rating-item" data-value="4">
                            <div class="rating-value">4</div>
                            <div class="rating-label">ูููุฏ</div>
                        </div>
                        <div class="rating-item" data-value="3">
                            <div class="rating-value">3</div>
                            <div class="rating-label">ูุชูุณุท</div>
                        </div>
                        <div class="rating-item" data-value="2">
                            <div class="rating-value">2</div>
                            <div class="rating-label">ูููู ุงููุงุฆุฏุฉ</div>
                        </div>
                        <div class="rating-item" data-value="1">
                            <div class="rating-value">1</div>
                            <div class="rating-label">ุบูุฑ ูููุฏ</div>
                        </div>
                    </div>
                    <input type="hidden" name="systemUsefulness" id="input-systemUsefulness" required>
                </div>
                
                <div class="question-group">
                    <label class="question">ูู ุชุฑุบุจ ูู ุงููุดุงุฑูุฉ ูู ุชุทููุฑ ุงููุธุงูุ</label>
                    <div class="options-grid">
                        <label class="option-label">
                            <input type="radio" name="developmentParticipation" value="ูุนู">
                            <span class="option-content">ูุนูุ ุฃุฑุบุจ ุจุงููุดุงุฑูุฉ</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="developmentParticipation" value="ูุง">
                            <span class="option-content">ูุงุ ูุง ุฃุฑุบุจ</span>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="developmentParticipation" value="ุฑุจูุง">
                            <span class="option-content">ุฑุจูุง ูุงุญูุงู</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- ุฃุฒุฑุงุฑ ุงูุชููู -->
            <div class="nav-buttons">
                <button type="button" class="btn btn-prev" id="prevBtn" onclick="prevSection()">
                    <i class="fas fa-arrow-right"></i> ุงูุณุงุจู
                </button>
                <button type="button" class="btn btn-next" id="nextBtn" onclick="nextSection()">
                    ุงูุชุงูู <i class="fas fa-arrow-left"></i>
                </button>
                <button type="submit" class="btn btn-submit" id="submitBtn" style="display: none;">
                    <i class="fas fa-paper-plane"></i> ุฅุฑุณุงู ุงูุงุณุชุจูุงู
                </button>
            </div>
        </form>

        <!-- ุฅุดุนุงุฑ ุงููุฌุงุญ -->
        <div id="successNotification" class="notification success" style="display: none;">
            <i class="fas fa-check-circle" style="color: #2ecc71; font-size: 1.5em; margin-bottom: 10px;"></i>
            <h3 style="margin-bottom: 10px;">ุชู ุฅุฑุณุงู ุงูุงุณุชุจูุงู ุจูุฌุงุญ!</h3>
            <p>ุดูุฑุงู ููุดุงุฑูุชู ุงููููุฉ ูุนุถู ููุฆุฉ ุชุฏุฑูุณูุฉ. ูุณุงููุชู ุฃุณุงุณูุฉ ูู ูุฌุงุญ ุงูุจุญุซ.</p>
            <div style="margin-top: 15px;">
                <a href="/" style="color: #3498db; text-decoration: none; font-weight: bold;">
                    <i class="fas fa-home"></i> ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ
                </a>
            </div>
        </div>

        <!-- ุฅุดุนุงุฑ ุงูุฎุทุฃ -->
        <div id="errorNotification" class="notification error" style="display: none;">
            <i class="fas fa-exclamation-circle" style="color: #e74c3c; font-size: 1.5em; margin-bottom: 10px;"></i>
            <h3 style="margin-bottom: 10px;">ุญุฏุซ ุฎุทุฃ!</h3>
            <p id="errorMessage">ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู.</p>
        </div>
    </div>

    <script>
        // ========== ูุชุบูุฑุงุช ุงููุธุงู ==========
        let currentSection = 1;
        const totalSections = 5;
        const startTime = Date.now();
        
        // ========== ูุธุงู ุงูุชูููู ุงููุญุณู ==========
        
        // ุชููุฆุฉ ูุธุงู ุงูุชูููู ุนูุฏ ุชุญููู ุงูุตูุญุฉ
        function init() {
            updateProgress();
            showSection(currentSection);
            initializeRatingSystem();
        }
        
        // ุชููุฆุฉ ูุธุงู ุงูุชูููู
        function initializeRatingSystem() {
            console.log('๐ฏ ุจุฏุก ุชููุฆุฉ ูุธุงู ุงูุชูููู ููุงุณุชุงุฐ...');
            
            // 1. ุฅูุดุงุก ุงูุญููู ุงููุฎููุฉ ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ
            createHiddenInputs();
            
            // 2. ุฅุนุฏุงุฏ ูุณุชูุนุงุช ุงูุฃุญุฏุงุซ
            setupRatingListeners();
            
            // 3. ุชุญููู ุฃู ุชููููุงุช ูุญููุธุฉ
            loadSavedRatings();
            
            console.log('โ ุชู ุชููุฆุฉ ูุธุงู ุงูุชูููู ุจูุฌุงุญ');
        }
        
        // ุฅูุดุงุก ุงูุญููู ุงููุฎููุฉ ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ
        function createHiddenInputs() {
            const questions = [
                'currentSystemEffectiveness',
                'reqLectures',
                'reqAttendance',
                'reqMonitoring',
                'reqExams',
                'reqActivities',
                'cheatingPreventionEffectiveness',
                'systemUsefulness'
            ];
            
            questions.forEach(question => {
                let input = document.getElementById(`input-${question}`);
                if (!input) {
                    input = document.createElement('input');
                    input.type = 'hidden';
                    input.name = question;
                    input.id = `input-${question}`;
                    input.required = true;
                    
                    // ุฅุถุงูุฉ ุฅูู DOM ูู ููุงู ููุงุณุจ
                    const ratingScale = document.querySelector(`.rating-scale[data-question="${question}"]`);
                    if (ratingScale) {
                        const parent = ratingScale.closest('.question-group') || ratingScale.parentNode;
                        parent.appendChild(input);
                    }
                }
            });
        }
        
        // ุฅุนุฏุงุฏ ูุณุชูุนุงุช ุงูุฃุญุฏุงุซ ููุชูููู
        function setupRatingListeners() {
            console.log('๐ ุฅุนุฏุงุฏ ูุณุชูุนุงุช ุงูุชูููู...');
            
            // ุฅุฒุงูุฉ ุฃู ูุณุชูุนุงุช ุณุงุจูุฉ
            document.querySelectorAll('.rating-item').forEach(item => {
                item.replaceWith(item.cloneNode(true));
            });
            
            // ุฅุถุงูุฉ ูุณุชูุนุงุช ุฌุฏูุฏุฉ
            document.querySelectorAll('.rating-item').forEach(item => {
                item.addEventListener('click', handleRatingClick);
            });
            
            console.log(`โ ุชู ุฅุนุฏุงุฏ ${document.querySelectorAll('.rating-item').length} ุนูุตุฑ ุชูููู`);
        }
        
        // ูุนุงูุฌุฉ ุงูููุฑ ุนูู ุนูุตุฑ ุงูุชูููู
        function handleRatingClick(event) {
            const clickedItem = event.currentTarget;
            const ratingValue = clickedItem.getAttribute('data-value');
            
            // 1. ุงูุนุซูุฑ ุนูู ูุฌููุนุฉ ุงูุชูููู ุงูุฎุงุตุฉ ุจูุฐุง ุงูุนูุตุฑ
            const ratingScale = clickedItem.closest('.rating-scale');
            if (!ratingScale) {
                console.error('โ ูู ูุชู ุงูุนุซูุฑ ุนูู ูุฌููุนุฉ ุงูุชูููู');
                return;
            }
            
            // 2. ุงูุญุตูู ุนูู ุงุณู ุงูุณุคุงู
            const questionName = ratingScale.getAttribute('data-question');
            if (!questionName) {
                console.error('โ ูู ูุชู ุงูุนุซูุฑ ุนูู ุงุณู ุงูุณุคุงู');
                return;
            }
            
            console.log(`๐ ุงูููุฑ ุนูู: ${questionName} - ุงููููุฉ: ${ratingValue}`);
            
            // 3. ุฅุฒุงูุฉ ุงูุชุญุฏูุฏ ูู ุฌููุน ุงูุนูุงุตุฑ ูู ููุณ ุงููุฌููุนุฉ ููุท
            const allItemsInScale = ratingScale.querySelectorAll('.rating-item');
            allItemsInScale.forEach(item => {
                item.classList.remove('active');
            });
            
            // 4. ุฅุถุงูุฉ ุงูุชุญุฏูุฏ ููุนูุตุฑ ุงููุถุบูุท ููุท
            clickedItem.classList.add('active');
            
            // 5. ุชุญุฏูุซ ุงูุญูู ุงููุฎูู ุงูุฎุงุต ุจูุฐุง ุงูุณุคุงู ููุท
            updateHiddenInput(questionName, ratingValue);
            
            // 6. ุฅุถุงูุฉ ุชุฃุซูุฑ ุจุตุฑู
            addRatingFeedback(clickedItem);
            
            // 7. ููุน ุงูุชุดุงุฑ ุงูุญุฏุซ
            event.stopPropagation();
            return false;
        }
        
        // ุชุญุฏูุซ ุงูุญูู ุงููุฎูู
        function updateHiddenInput(questionName, value) {
            const inputId = `input-${questionName}`;
            let hiddenInput = document.getElementById(inputId);
            
            if (!hiddenInput) {
                // ูุญุงููุฉ ุฅูุฌุงุฏ ุงูุญูู ุจุฃู ุทุฑููุฉ
                hiddenInput = document.querySelector(`input[name="${questionName}"]`);
                if (!hiddenInput) {
                    console.error(`โ ูู ูุชู ุงูุนุซูุฑ ุนูู ุงูุญูู: ${questionName}`);
                    return;
                }
            }
            
            hiddenInput.value = value;
            console.log(`โ ุชู ุชุนููู ${value} ููุญูู: ${questionName}`);
            
            // ุงูุชุญูู ูู ุฃู ุงููููุฉ ุชู ุชุนููููุง
            setTimeout(() => {
                console.log(`โ ุชุฃููุฏ: ${questionName} = ${hiddenInput.value}`);
            }, 100);
        }
        
        // ุชุฃุซูุฑ ุจุตุฑู ุนูุฏ ุงูููุฑ
        function addRatingFeedback(element) {
            const originalTransform = element.style.transform;
            const originalBoxShadow = element.style.boxShadow;
            
            element.style.transform = 'scale(1.15)';
            element.style.boxShadow = '0 8px 25px rgba(52, 152, 219, 0.3)';
            
            setTimeout(() => {
                element.style.transform = originalTransform;
                element.style.boxShadow = originalBoxShadow;
            }, 300);
        }
        
        // ุชุญููู ุงูุชููููุงุช ุงููุญููุธุฉ
        function loadSavedRatings() {
            const ratingInputs = document.querySelectorAll('input[type="hidden"][name$="ectiveness"], input[type="hidden"][name^="req"], input[type="hidden"][name="systemUsefulness"]');
            
            ratingInputs.forEach(input => {
                if (input.value) {
                    const questionName = input.name;
                    const ratingValue = input.value;
                    const ratingScale = document.querySelector(`.rating-scale[data-question="${questionName}"]`);
                    
                    if (ratingScale) {
                        // ุฅุฒุงูุฉ active ูู ุฌููุน ุงูุนูุงุตุฑ
                        ratingScale.querySelectorAll('.rating-item').forEach(item => {
                            item.classList.remove('active');
                        });
                        
                        // ุฅุถุงูุฉ active ููุนูุตุฑ ุงูููุงุณุจ
                        const targetItem = ratingScale.querySelector(`.rating-item[data-value="${ratingValue}"]`);
                        if (targetItem) {
                            targetItem.classList.add('active');
                            console.log(`๐ฅ ุชู ุชุญููู ุงูุชูููู: ${questionName} = ${ratingValue}`);
                        }
                    }
                }
            });
        }
        
        // ========== ูุธุงู ุงูุชููู ุจูู ุงูุฃูุณุงู ==========
        
        // ุชุญุฏูุซ ุดุฑูุท ุงูุชูุฏู
        function updateProgress() {
            const progress = (currentSection / totalSections) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('currentStep').textContent = `${currentSection}/${totalSections}`;
        }
        
        // ุนุฑุถ ุงููุณู ุงูุญุงูู
        function showSection(sectionNumber) {
            // ุฅุฎูุงุก ุฌููุน ุงูุฃูุณุงู
            for (let i = 1; i <= totalSections; i++) {
                document.getElementById(`section${i}`).style.display = 'none';
            }
            
            // ุนุฑุถ ุงููุณู ุงูุญุงูู
            document.getElementById(`section${sectionNumber}`).style.display = 'block';
            
            // ุชุญุฏูุซ ุฃุฒุฑุงุฑ ุงูุชููู
            document.getElementById('prevBtn').style.display = sectionNumber === 1 ? 'none' : 'flex';
            document.getElementById('nextBtn').style.display = sectionNumber === totalSections ? 'none' : 'flex';
            document.getElementById('submitBtn').style.display = sectionNumber === totalSections ? 'flex' : 'none';
            
            // ุชุฃุซูุฑ ุงูุธููุฑ
            const section = document.getElementById(`section${sectionNumber}`);
            section.style.opacity = '0';
            section.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
                section.style.transition = 'all 0.5s ease';
                section.style.opacity = '1';
                section.style.transform = 'translateY(0)';
            }, 10);
            
            // ุงูุชูุฑูุฑ ููุฃุนูู
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // ุงูุงูุชูุงู ูููุณู ุงูุชุงูู
        function nextSection() {
            console.log(`๐ ูุญุงููุฉ ุงูุงูุชูุงู ูู ุงููุณู ${currentSection} ุฅูู ${currentSection + 1}`);
            
            // ุงูุชุญูู ูู ุตุญุฉ ุงููุณู ุงูุญุงูู
            if (!validateCurrentSection()) {
                showNotification('error', 'ูุฑุฌู ููุก ุฌููุน ุงูุญููู ุงููุทููุจุฉ ูู ูุฐุง ุงููุณู');
                return;
            }
            
            // ุงูุชุญูู ุงูุฅุถุงูู ููุชููููุงุช ูู ุงูุฃูุณุงู 2, 3, 5
            if (currentSection === 2 || currentSection === 3 || currentSection === 5) {
                const ratingsValid = validateProfessorRatings(currentSection);
                if (!ratingsValid) {
                    // ุฑุณุงูุฉ ุงูุฎุทุฃ ุณุชุธูุฑ ูู ุฏุงุฎู validateProfessorRatings
                    return;
                }
            }
            
            // ุฅุฐุง ูุงู ุงูุชุญูู ูุงุฌุญุงูุ ุงูุชูู ูููุณู ุงูุชุงูู
            if (currentSection < totalSections) {
                currentSection++;
                updateProgress();
                showSection(currentSection);
                console.log(`โ ุชู ุงูุงูุชูุงู ูููุณู ${currentSection}`);
            }
        }
        
        // ุงูุงูุชูุงู ูููุณู ุงูุณุงุจู
        function prevSection() {
            if (currentSection > 1) {
                currentSection--;
                updateProgress();
                showSection(currentSection);
            }
        }
        
        // ุงูุชุญูู ูู ุตุญุฉ ุงููุณู ุงูุญุงูู
        function validateCurrentSection() {
            const section = document.getElementById(`section${currentSection}`);
            const requiredInputs = section.querySelectorAll('[required]');
            
            console.log(`๐ ุงูุชุญูู ูู ุงููุณู ${currentSection}`);
            console.log(`ุนุฏุฏ ุงูุญููู ุงููุทููุจุฉ: ${requiredInputs.length}`);
            
            let isValid = true;
            let firstInvalidField = null;
            
            for (const input of requiredInputs) {
                console.log(`  ุงูุญูู: ${input.name}, ุงูููุน: ${input.type}, ุงููููุฉ: "${input.value}"`);
                
                // ููุญููู ุงููุฎููุฉ (hidden inputs)
                if (input.type === 'hidden') {
                    if (!input.value || input.value.trim() === '') {
                        console.log(`โ ุงูุญูู ุงููุฎูู ูุงุฑุบ: ${input.name}`);
                        
                        // ุชุณููุท ุงูุถูุก ุนูู ูุฌููุนุฉ ุงูุชูููู
                        const questionName = input.name;
                        const ratingScale = section.querySelector(`.rating-scale[data-question="${questionName}"]`);
                        
                        if (ratingScale) {
                            highlightRatingScale(ratingScale);
                            if (!firstInvalidField) firstInvalidField = ratingScale;
                        }
                        
                        isValid = false;
                    }
                }
                // ูุนูุงุตุฑ ุงูุฑุงุฏูู
                else if (input.type === 'radio') {
                    const radioName = input.name;
                    const isChecked = section.querySelector(`input[name="${radioName}"]:checked`);
                    
                    if (!isChecked) {
                        console.log(`โ ูุฌููุนุฉ ุงูุฑุงุฏูู ุบูุฑ ูุญุฏุฏุฉ: ${radioName}`);
                        
                        const radioGroup = input.closest('.options-grid') || input.closest('.question-group');
                        if (radioGroup) {
                            radioGroup.style.border = '2px solid #e74c3c';
                            radioGroup.style.borderRadius = '10px';
                            radioGroup.style.padding = '10px';
                            radioGroup.style.backgroundColor = 'rgba(231, 76, 60, 0.05)';
                            
                            setTimeout(() => {
                                radioGroup.style.border = '';
                                radioGroup.style.padding = '';
                                radioGroup.style.backgroundColor = '';
                            }, 3000);
                        }
                        
                        if (!firstInvalidField) firstInvalidField = radioGroup;
                        isValid = false;
                    }
                }
                // ููุญููู ุงููุตูุฉ ูุงูููุงุฆู ุงูููุณุฏูุฉ
                else {
                    if (!input.value || input.value.trim() === '') {
                        console.log(`โ ุงูุญูู ุงููุตู ูุงุฑุบ: ${input.name}`);
                        
                        input.style.borderColor = '#e74c3c';
                        input.style.boxShadow = '0 0 0 2px rgba(231, 76, 60, 0.2)';
                        
                        setTimeout(() => {
                            input.style.borderColor = '#ddd';
                            input.style.boxShadow = '';
                        }, 3000);
                        
                        if (!firstInvalidField) firstInvalidField = input;
                        isValid = false;
                    }
                }
            }
            
            // ุงูุชูุฑูุฑ ููุญูู ุงูุฃูู ุบูุฑ ุงูุตุงูุญ
            if (firstInvalidField) {
                firstInvalidField.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'center',
                    inline: 'center'
                });
            }
            
            return isValid;
        }
        
        // ุงูุชุญูู ูู ุชููููุงุช ุงูุฃุณุชุงุฐ ุญุณุจ ุงููุณู
        function validateProfessorRatings(sectionNumber) {
            console.log(`๐ฏ ุงูุชุญูู ูู ุชููููุงุช ุงููุณู ${sectionNumber}`);
            
            let ratingQuestions = [];
            
            // ุชุญุฏูุฏ ุงูุฃุณุฆูุฉ ุญุณุจ ุงููุณู
            if (sectionNumber === 2) {
                ratingQuestions = ['currentSystemEffectiveness'];
            } else if (sectionNumber === 3) {
                ratingQuestions = [
                    'reqLectures',
                    'reqAttendance',
                    'reqMonitoring',
                    'reqExams',
                    'reqActivities',
                    'cheatingPreventionEffectiveness'
                ];
            } else if (sectionNumber === 5) {
                ratingQuestions = ['systemUsefulness'];
            }
            
            let allValid = true;
            const missingQuestions = [];
            
            ratingQuestions.forEach(question => {
                let input = document.getElementById(`input-${question}`);
                if (!input) {
                    input = document.querySelector(`input[name="${question}"]`);
                }
                
                if (!input || !input.value || input.value.trim() === '') {
                    console.log(`โ ุชูููู ูุงูุต: ${question}`);
                    allValid = false;
                    missingQuestions.push(question);
                    
                    // ุชุณููุท ุงูุถูุก ุนูู ุงูุณุคุงู ุงููุงูุต
                    highlightRatingScaleForQuestion(question);
                }
            });
            
            if (!allValid) {
                showProfessorRatingError(missingQuestions, sectionNumber);
            }
            
            return allValid;
        }
        
        // ุชุณููุท ุงูุถูุก ุนูู ูุฌููุนุฉ ุงูุชูููู
        function highlightRatingScale(ratingScale) {
            if (!ratingScale) return;
            
            ratingScale.classList.add('rating-error');
            
            const questionGroup = ratingScale.closest('.question-group');
            if (questionGroup) {
                let errorMsg = questionGroup.querySelector('.rating-error-msg');
                if (!errorMsg) {
                    errorMsg = document.createElement('div');
                    errorMsg.className = 'rating-error-msg';
                    errorMsg.innerHTML = '<i class="fas fa-exclamation-circle"></i> ูุฑุฌู ุงุฎุชูุงุฑ ุชูููู';
                    questionGroup.appendChild(errorMsg);
                }
                
                setTimeout(() => {
                    ratingScale.classList.remove('rating-error');
                    if (errorMsg) errorMsg.remove();
                }, 3000);
            }
        }
        
        // ุชุณููุท ุงูุถูุก ุนูู ูุฌููุนุฉ ุงูุชูููู ุญุณุจ ุงุณู ุงูุณุคุงู
        function highlightRatingScaleForQuestion(questionName) {
            const ratingScale = document.querySelector(`.rating-scale[data-question="${questionName}"]`);
            highlightRatingScale(ratingScale);
        }
        
        // ุนุฑุถ ุฎุทุฃ ุงูุชูููู ููุฃุณุชุงุฐ
        function showProfessorRatingError(missingQuestions, sectionNumber) {
            // ุชุญููู ุฃุณูุงุก ุงูุฃุณุฆูุฉ ุฅูู ุฃุณูุงุก ุนุฑุจูุฉ
            const questionNames = {
                'currentSystemEffectiveness': 'ูุนุงููุฉ ุงููุธุงู ุงูุญุงูู',
                'reqLectures': 'ูุธุงู ุฅุฏุงุฑุฉ ุงููุญุงุถุฑุงุช',
                'reqAttendance': 'ูุธุงู ุงูุชุญุถูุฑ ุงูุขูู',
                'reqMonitoring': 'ูุธุงู ูุฑุงูุจุฉ ุงูุงุฎุชุจุงุฑุงุช',
                'reqExams': 'ูุธุงู ุฅุฏุงุฑุฉ ุงูุงุฎุชุจุงุฑุงุช',
                'reqActivities': 'ูุธุงู ุฅุฏุงุฑุฉ ุงูุฃูุดุทุฉ',
                'cheatingPreventionEffectiveness': 'ูุนุงููุฉ ููุน ุงูุบุด',
                'systemUsefulness': 'ูุงุฆุฏุฉ ุงููุธุงู ุงูููุชุฑุญ'
            };
            
            // ุฅูุดุงุก ุฑุณุงูุฉ ุงูุฎุทุฃ
            let errorHTML = `
                <div style="margin-bottom: 10px;">
                    <i class="fas fa-exclamation-triangle" style="color: #e74c3c; margin-left: 10px;"></i>
                    <strong>ุงูุชููููุงุช ุงููุงูุตุฉ:</strong>
                </div>
            `;
            
            missingQuestions.forEach(question => {
                const arabicName = questionNames[question] || question;
                errorHTML += `
                    <div style="margin: 5px 0; padding-right: 20px; color: #e74c3c;">
                        <i class="fas fa-times-circle" style="margin-left: 5px;"></i>
                        ${arabicName}
                    </div>
                `;
            });
            
            // ุฅุถุงูุฉ ุฑุณุงูุฉ ุชูุถูุญูุฉ ุญุณุจ ุงููุณู
            if (sectionNumber === 3) {
                errorHTML += `
                    <div style="margin-top: 10px; color: #666; font-size: 0.9em;">
                        <i class="fas fa-info-circle" style="margin-left: 5px;"></i>
                        ูุฑุฌู ุชูููู ุฃูููุฉ ูู ููุฒุฉ ูู 1 ุฅูู 5
                    </div>
                `;
            }
            
            // ุนุฑุถ ุงูุฅุดุนุงุฑ
            const errorDiv = document.getElementById('errorNotification');
            const errorMessage = document.getElementById('errorMessage');
            
            if (errorDiv && errorMessage) {
                errorMessage.innerHTML = errorHTML;
                errorDiv.style.display = 'block';
                
                setTimeout(() => {
                    errorDiv.style.display = 'none';
                }, 5000);
            }
        }
        
        // ========== ูุธุงู ุงูุฅุดุนุงุฑุงุช ==========
        
        // ุฅุธูุงุฑ ุงูุฅุดุนุงุฑ
        function showNotification(type, message) {
            const notification = type === 'success' ? 
                document.getElementById('successNotification') : 
                document.getElementById('errorNotification');
            
            if (type === 'error') {
                document.getElementById('errorMessage').textContent = message;
            }
            
            notification.style.display = 'block';
            notification.style.animation = 'slideIn 0.3s ease-out';
            
            // ุฅุฎูุงุก ุชููุงุฆู ุจุนุฏ 5 ุซูุงู
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => {
                    notification.style.display = 'none';
                }, 300);
            }, 5000);
        }
        
        // ========== ุฅุฑุณุงู ุงูุงุณุชุจูุงู ==========
        
        // ุฅุฑุณุงู ุงูุงุณุชุจูุงู
        document.getElementById('surveyForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // ุงูุชุญูู ุงูููุงุฆู ูู ุฌููุน ุงูุญููู
            if (!validateCurrentSection()) {
                showNotification('error', 'ูุฑุฌู ููุก ุฌููุน ุงูุญููู ุงููุทููุจุฉ');
                return;
            }
            
            // ุงูุชุญูู ูู ุงูุชููููุงุช ูู ุฌููุน ุงูุฃูุณุงู
            if (!validateProfessorRatings(2) || !validateProfessorRatings(3) || !validateProfessorRatings(5)) {
                return; // ุฑุณุงูุฉ ุงูุฎุทุฃ ุณุชุธูุฑ ูู ุฏุงุฎู validateProfessorRatings
            }
            
            // ุฌูุน ุงูุจูุงูุงุช
            const formData = new FormData(this);
            const data = {
                name: formData.get('fullName') || '',
                department: formData.get('department'),
                academicRank: formData.get('academicRank'),
                teachingExperience: formData.get('teachingExperience'),
                onlineCourses: formData.get('onlineCourses'),
                teachingChallenges: formData.getAll('teachingChallenges'),
                currentSystemEffectiveness: formData.get('currentSystemEffectiveness'),
                reqLectures: formData.get('reqLectures'),
                reqAttendance: formData.get('reqAttendance'),
                reqMonitoring: formData.get('reqMonitoring'),
                reqExams: formData.get('reqExams'),
                reqActivities: formData.get('reqActivities'),
                preferredAttendanceMethod: formData.get('preferredAttendanceMethod'),
                cheatingPreventionEffectiveness: formData.get('cheatingPreventionEffectiveness'),
                biggestObstacle: formData.get('biggestObstacle'),
                attendanceProblems: formData.get('attendanceProblems'),
                examProblems: formData.getAll('examProblems'),
                techSupport: formData.get('techSupport'),
                mostImportantFeature: formData.get('mostImportantFeature'),
                offlineImportance: formData.get('offlineImportance'),
                expectedChallenges: formData.get('expectedChallenges'),
                managementRecommendations: formData.get('managementRecommendations'),
                systemUsefulness: formData.get('systemUsefulness'),
                developmentParticipation: formData.get('developmentParticipation'),
                completed: true,
                completionTime: Math.round((Date.now() - startTime) / 1000 / 60)
            };
            
            // ุงูุชุญูู ูู ุงูุจูุงูุงุช ูุจู ุงูุฅุฑุณุงู
            console.log('๐ค ุฅุฑุณุงู ุจูุงูุงุช ุงูุฃุณุชุงุฐ:', data);
            
            try {
                const response = await fetch('/api/survey/professor', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                
                if (result.success) {
                    // ุฅุฎูุงุก ุงููููุฐุฌ
                    document.getElementById('surveyForm').style.display = 'none';
                    // ุฅุธูุงุฑ ุฅุดุนุงุฑ ุงููุฌุงุญ
                    showNotification('success', '');
                } else {
                    showNotification('error', result.message || 'ุญุฏุซ ุฎุทุฃ ูู ุงูุฅุฑุณุงู');
                }
            } catch (error) {
                console.error('โ ุฎุทุฃ ูู ุงูุฅุฑุณุงู:', error);
                showNotification('error', 'ุญุฏุซ ุฎุทุฃ ูู ุงูุงุชุตุงู ุจุงูุฎุงุฏู');
            }
        });
        
        // ========== ุชููุฆุฉ ุงูุตูุญุฉ ุนูุฏ ุงูุชุญููู ==========
        
        window.onload = function() {
            console.log('๐ ุชุญููู ุตูุญุฉ ุงุณุชุจูุงู ุงูููุฆุฉ ุงูุชุฏุฑูุณูุฉ...');
            
            // 1. ุชููุฆุฉ ุฃุณุงุณูุฉ
            init();
            
            // 2. ุฅุถุงูุฉ ุฃููุงุท CSS ููุญุฑูุงุช
            addAnimationStyles();
            
            console.log('โ ุชู ุชุญููู ุงูุตูุญุฉ ุจูุฌุงุญ');
        };
        
        // ุฅุถุงูุฉ ุฃููุงุท CSS ููุญุฑูุงุช
        function addAnimationStyles() {
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from {
                        transform: translateX(100%);
                        opacity: 0;
                    }
                    to {
                        transform: translateX(0);
                        opacity: 1;
                    }
                }
                
                @keyframes slideOut {
                    from {
                        transform: translateX(0);
                        opacity: 1;
                    }
                    to {
                        transform: translateX(100%);
                        opacity: 0;
                    }
                }
            `;
            document.head.appendChild(style);
        }
        
        // ========== ุฏูุงู ูุณุงุนุฏุฉ ููุงุฎุชุจุงุฑ ==========
        
        // ุงุฎุชุจุงุฑ ุงููุธุงู (ููุชูููุฉ ููุท)
        function testRatingSystem() {
            console.log('๐งช ุงุฎุชุจุงุฑ ูุธุงู ุงูุชูููู ููุงุณุชุงุฐ...');
            
            const questions = [
                'reqLectures',
                'reqAttendance', 
                'reqMonitoring',
                'reqExams',
                'reqActivities',
                'cheatingPreventionEffectiveness'
            ];
            
            questions.forEach((question, index) => {
                setTimeout(() => {
                    const ratingScale = document.querySelector(`.rating-scale[data-question="${question}"]`);
                    if (ratingScale) {
                        const items = ratingScale.querySelectorAll('.rating-item');
                        const randomItem = items[Math.floor(Math.random() * items.length)];
                        randomItem.click();
                        console.log(`โ ุงุฎุชุจุงุฑ: ${question} = ${randomItem.dataset.value}`);
                    }
                }, index * 500);
            });
        }
        
        // ุนุฑุถ ุงูููู ุงูุญุงููุฉ
        function showCurrentRatings() {
            console.log('๐ ุงูููู ุงูุญุงููุฉ ููุงุณุชุงุฐ:');
            
            const questions = [
                'currentSystemEffectiveness',
                'reqLectures',
                'reqAttendance', 
                'reqMonitoring',
                'reqExams',
                'reqActivities',
                'cheatingPreventionEffectiveness',
                'systemUsefulness'
            ];
            
            questions.forEach(question => {
                const input = document.getElementById(`input-${question}`) || 
                              document.querySelector(`input[name="${question}"]`);
                console.log(`${question}: ${input ? input.value : 'ุบูุฑ ููุฌูุฏ'}`);
            });
        }
        
        // ุฅุนุงุฏุฉ ุชุนููู ุฌููุน ุงูุชููููุงุช
        function resetAllRatings() {
            document.querySelectorAll('.rating-item').forEach(item => {
                item.classList.remove('active');
            });
            
            document.querySelectorAll('input[type="hidden"][name$="ectiveness"], input[type="hidden"][name^="req"], input[type="hidden"][name="systemUsefulness"]').forEach(input => {
                input.value = '';
            });
            
            console.log('๐ ุชู ุฅุนุงุฏุฉ ุชุนููู ุฌููุน ุงูุชููููุงุช');
        }
    </script>
</body>
</html>
